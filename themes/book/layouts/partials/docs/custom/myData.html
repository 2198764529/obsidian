{{ $JSON := getJSON
"https://api.github.com/repos/2198764529/obsidian/commits?per_page=2000" }} {{
$JSON2 := getJSON "https://skyline.github.com/2198764529/2023.json" }}
{{$LastItem := index $JSON 0}} {{$LastItemTime :=(time.AsTime
$LastItem.commit.author.date)}}
<div class="ios_card">
    <h4>
        <span>{{$dayOfyear := int (now.Format "002")}}</span>
    </h4>

    <h4>
        üìÑ{{ .Site.RegularPages | len }} {{ $totalWordCount := 0 }} {{ range
        .Site.RegularPages }} {{ with .Content }} {{ $wordCount := printf "%s" . |
        len }} {{ $totalWordCount = add $totalWordCount $wordCount }} {{ end }} {{
        end }} üî§{{ $totalWordCount}}
    </h4>
    <h4>
        {{ $latestLastMod:=time.Now}} {{ range .Site.RegularPages }} {{ if
        .Lastmod.After $latestLastMod }} {{ $latestLastMod = .Lastmod }} {{ end }}
        {{ end }} {{ if $latestLastMod.After $LastItemTime }}
        <!-- Â¶ÇÊûúÁ´ôÁÇπÁöÑÊúÄÂêéÊõ¥ÊîπÊó∂Èó¥Êôö‰∫é‰ΩúËÄÖÁöÑÊúÄÂêéÊèê‰∫§Êó•ÊúüÔºåÊòæÁ§∫ÊèêÈÜíÊ∂àÊÅØ -->
        ‰∏äÊ¨°Êèê‰∫§Âú®
        <span class="AuthorDate" data-unix="{{ $LastItemTime.Unix }}"> </span>
        , ËØ∑ÂãøÂøòËÆ∞Êèê‰∫§ {{ end }}

    </h4>
    <el-steps :space="200" :active="1" finish-status="success">
        <el-step title="Â∑≤ÂÆåÊàê"></el-step>
        <el-step title="ËøõË°å‰∏≠"></el-step>
        <el-step title="Ê≠•È™§ 3"></el-step>
      </el-steps>
    <div class="heatmap-container">
        <table class="heatmap">
            {{$xData := slice "‰∏Ä" "‰∫å" "‰∏â" "Âõõ" "‰∫î" "ÂÖ≠" "‰∏É" "ÂÖ´" "‰πù" "ÂçÅ" "ÂçÅ‰∏Ä" "ÂçÅ‰∫å"}}
            <!-- ‰∏Ä„ÄÅ1„ÄÅ3„ÄÅ5„ÄÅ7„ÄÅ8„ÄÅ10„ÄÅ12 ÊØèÊúà31Â§©Ôºå4„ÄÅ6„ÄÅ9„ÄÅ11‰∏∫30Â§©„ÄÇ
            ‰∫å„ÄÅ2ÊúàÊ≠£Â∏∏‰∏∫28Â§©ÔºåÂ¶ÇÊûú‰∏∫Èó∞Âπ¥ÔºåÂàôÂ§ö‰∏ÄÂ§©‰∏∫29Â§©„ÄÇ
            Ê≠£Â¶ÇÊàë‰ª¨ÊâÄËØ¥ÁöÑÈ°∫Âè£Ê∫úÔºö‰∏Ä‰∏â‰∫î‰∏ÉÂÖ´ÂçÅËÖäÔºå‰∏âÂçÅ‰∏ÄÂ§©Ê∞∏‰∏çÂ∑Æ„ÄÇ 
        -->
            {{$yData := slice "‰∏Ä" "‰∫å" "‰∏â" "Âõõ" "‰∫î" "ÂÖ≠" "Êó•"}}
            <thead>
                <tr>
                    <td></td>
                    {{range $yData}}
                    <td>
                        <span> {{.}} </span>
                    </td>

                    {{ end }}
                </tr>
            </thead>

            <tbody>
                {{$bigMonths := slice 1 3 5 7 8 10 12}} {{$countNum := 1}}
                {{$countNum2:= 0}}
                {{$tdNum := 0}}

                {{range $i,$v:=$JSON2.contributions}}
                    {{$month :=int (div .week 4)}}
                    {{$flag1 := eq (mod .week 4) 0}}
                    {{if in $month $bigMonths}}
                    {{$flag1 = 1}}
                    {{ end }}
                    {{$flag2 := lt $month 13}}
                    {{$flag3 := gt $tdNum 28}}

                    <tr>
                        {{ if and $flag1 $flag2}}
                        <td>
                            <span>
                                {{$tdNum = 0}}
                                {{index $xData $month}}
                            </span>
                            
                            <!-- {{.week}} -->
                        </td>
                        {{ else }}
                        <td></td>
                        {{ end }}
                        {{$countNum := mul (int .week) 7}}

                        {{range .days}}

                        {{$contributionsbgNum := int .count}} {{if gt .count 4}}{{$contributionsbgNum = 4}} {{ end }} 
                        {{$countNum = add $countNum 1}}
                        <td class="contributions-bg-{{$contributionsbgNum}} {{if eq $dayOfyear $countNum}}today{{ end }}">
                        </td>
                        
                        {{$tdNum =add $tdNum 1}}

                        {{ end }}

                    </tr>

                {{ end }}
            </tbody>
        </table>
    </div>
</div>