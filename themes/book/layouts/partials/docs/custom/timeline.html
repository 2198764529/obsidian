{{ $messageData := .Site.Data.myData}}


{{$pagesByLastmod :=.Site.RegularPages.GroupByLastmod "2006-01-02"}}
{{ $pagesDictByLastmod := dict }}
{{ range $pagesByLastmod }}
    {{ $pagesDictByLastmod = $pagesDictByLastmod | merge (dict .Key  .Pages) }}
{{ end }}

{{$pagesByPublishDate :=.Site.RegularPages.GroupByPublishDate "2006-01-02"}}
{{ $pagesDictByPublishDate := dict }}
{{ range $pagesByPublishDate }}
    {{ $pagesDictByPublishDate = $pagesDictByPublishDate | merge (dict .Key .Pages) }}
{{ end }}
<div class="timeline ios_card">
  <section>
    <div class="timeline-container">
     
      {{ range $i,$v:= $messageData }}
      <div class="timeline-item card-container">
        <div class="timeline-title">
          <div>
            <h4>
              {{ $date := time.AsTime .date}}
              <span
                class="date"
                data-unix="{{ $date.Unix }} "
              >
              </span>
              {{with .drinkWater}}
              <span> {{.}}L </span>
              {{end}}
              <span>
                {{ with .sleepTime }}
                  {{ printf "%sç‚¹ç¡,%sç‚¹èµ·" (index . 0) (index . 1) }}
                {{ end }}
              </span>
              {{with .bikeToHome}}
              <span>ä¿æŒéª‘è¡Œ,å¼€å§‹éª‘è¡Œæ—¶é—´{{.}} </span>
              {{end}}
            </h4>
          </div>
        </div>

        {{with .events}} {{range .}}
        <div class="timeline-content events">
          <h4>{{.}}</h4>
        </div>

        {{end}} {{end}} 

        {{with index $pagesDictByLastmod  ($date.Format "2006-01-02")}}
        <div class="timeline-content md_update">
          <h4>
            æ›´æ–°äº† {{range .}}
            <a class="MDtitle" href="{{.RelPermalink}}"> ğŸ“„{{.Title}} </a>

            {{end}}
          </h4>
        </div>

        {{end}} 

        {{with index $pagesDictByPublishDate  ($date.Format "2006-01-02")}}
        <div class="timeline-content md_create">
          <h4>
            åˆ›å»ºäº† {{range .}}
            <a class="MDtitle" href="{{.RelPermalink}}"> ğŸ“„{{.Title}} </a>

            {{end}}
          </h4>
        </div>

        {{end}}
      </div>

      {{ end }}
    </div>
  </section>
  <script>
    // åœ¨é¡µé¢åŠ è½½æ—¶æ‰§è¡Œçš„ JavaScript ä»£ç 
    window.onload = function () {
      // æ›´æ–°å…·æœ‰ "LastChange" ç±»åçš„å…ƒç´ çš„æ—¶é—´æˆ³
      updateDateTimeByElementClass("date");
    };
  </script>
</div>
