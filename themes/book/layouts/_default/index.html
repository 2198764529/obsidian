{{ define "main" }}
<main aria-role="main">
    <div id='calendar' class="ios_card"></div>


    
  <!-- å¼•å…¥ fullCalendar.js -->
  <script src="js/fullCalendar.js" ></script>
  <script>
    var content = "{{ $page := .Site.GetPage `/posts/æ—¥å¿—.md` }}{{ $page.RawContent }}";
    calendarRender(content); 
  </script>
 


  <h4>
     <span class="nowDate" data-unix="{{ now.Unix }}">  </span>
  </h4>

  <h4>
    ğŸ“„{{ .Site.RegularPages | len }} 
    {{ $totalWordCount := 0 }}

    {{ range .Site.RegularPages }}
      {{ with .Content }}
        {{ $wordCount := printf "%s" . | len }}
        {{ $totalWordCount = add $totalWordCount $wordCount }}
      {{ end }}
    {{ end }}
    ğŸ”¤{{ $totalWordCount}}
  </h4>
  <h4>

    {{ if .Site.LastChange.After .GitInfo.AuthorDate }}
    <!-- å¦‚æœç«™ç‚¹çš„æœ€åæ›´æ”¹æ—¶é—´æ™šäºä½œè€…çš„æœ€åæäº¤æ—¥æœŸï¼Œæ˜¾ç¤ºæé†’æ¶ˆæ¯ -->
    ä¸Šæ¬¡æäº¤åœ¨
    <span class="AuthorDate" data-unix="{{ .GitInfo.AuthorDate.Unix }}"> </span>
    , è¯·å‹¿å¿˜è®°æäº¤
    {{ end }}



  </h4>
 
  {{$data := partial "docs/inject/timelineData.html" . }}
 
  {{ partial "docs/timeline" (dict "messageData" $data) }}
 
<script>
  var touchElement = document.getElementById('calendar');
  var touchStartX, touchStartY;

  touchElement.addEventListener('touchstart', function (e) {
    // è®°å½•è§¦æ‘¸èµ·å§‹ä½ç½®
    touchStartX = e.touches[0].clientX;
    touchStartY = e.touches[0].clientY;
  });

  touchElement.addEventListener('touchmove', function (e) {
    // é˜»æ­¢é»˜è®¤æ»šåŠ¨
    e.preventDefault();

    // è·å–å½“å‰è§¦æ‘¸ä½ç½®
    var touchCurrentX = e.touches[0].clientX;
    var touchCurrentY = e.touches[0].clientY;

    // è®¡ç®—è§¦æ‘¸åç§»
    var deltaX = touchCurrentX - touchStartX;
    var deltaY = touchCurrentY - touchStartY;

    // åˆ¤æ–­æ»‘åŠ¨æ–¹å‘ï¼Œè¿™é‡Œä»¥æ°´å¹³æ–¹å‘ä¸ºä¾‹
    if (Math.abs(deltaX) > Math.abs(deltaY)) {
      // æ ¹æ®éœ€è¦æ‰§è¡Œæ»‘åŠ¨è§¦å‘çš„åŠ¨ä½œ
      if (deltaX > 50) {
        // å‘å³æ»‘åŠ¨è¶…è¿‡50pxæ—¶è§¦å‘åŠ¨ä½œ
        touchElement.style.backgroundColor = 'lightgreen';
      } else if (deltaX < -50) {
        // å‘å·¦æ»‘åŠ¨è¶…è¿‡50pxæ—¶è§¦å‘åŠ¨ä½œ
        touchElement.style.backgroundColor = 'lightcoral';
      }
    }

    // æ›´æ–°è§¦æ‘¸èµ·å§‹ä½ç½®
    touchStartX = touchCurrentX;
    touchStartY = touchCurrentY;
  });

  touchElement.addEventListener('touchend', function () {
    // æ¸…é™¤èƒŒæ™¯è‰²
    touchElement.style.backgroundColor = 'lightblue';
  });
</script>
  <script>
    // åœ¨é¡µé¢åŠ è½½æ—¶æ‰§è¡Œçš„ JavaScript ä»£ç 
    window.onload = function () {
      // æ›´æ–°å…·æœ‰ "LastChange" ç±»åçš„å…ƒç´ çš„æ—¶é—´æˆ³
      updateDateTimeByElementClass("LastChange");
      // æ›´æ–°å…·æœ‰ "AuthorDate" ç±»åçš„å…ƒç´ çš„æ—¶é—´æˆ³
      updateDateTimeByElementClass("AuthorDate");
      // æ›´æ–°å…·æœ‰ "nowDate" ç±»åçš„å…ƒç´ çš„æ—¶é—´æˆ³
      updateDateTimeByElementClass("nowDate");
      // æ›´æ–°å…·æœ‰ "date" ç±»åçš„å…ƒç´ çš„æ—¶é—´æˆ³
      updateDateTimeByElementClass("date");
    }; 
  </script>
</main>
{{ end }}
